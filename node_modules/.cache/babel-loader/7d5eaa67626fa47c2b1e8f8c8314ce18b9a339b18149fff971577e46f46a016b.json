{"ast":null,"code":"import \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.date.to-json.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nvar LOCAL_KEY = \"todomvc\";\n\n/**\n * 生成一个任务的唯一编号，时间戳+4位随机数\n */\nexport function generateId() {\n  return Date.now() + Math.random().toString(16).substring(2, 4);\n}\n\n/**\n * 获取当前所有任务\n */\nexport function fetch() {\n  var result = localStorage.getItem(LOCAL_KEY);\n  console.log(result);\n  if (result && result === undefined) {\n    return JSON.parse(result);\n  }\n  return [];\n}\n/**\n * 保存所有任务\n * @param {*} todos 任务列表\n */\nexport function save(todos) {\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(todos));\n}\nexport function filter(todos) {\n  var visibility = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"all\";\n  if (visibility === \"all\") {\n    return todos;\n  } else if (visibility === \"active\") {\n    return todos.filter(function (it) {\n      return !it.completed;\n    });\n  } else if (visibility === \"completed\") {\n    return todos.filter(function (it) {\n      return it.completed;\n    });\n  }\n}","map":{"version":3,"names":["LOCAL_KEY","generateId","Date","now","Math","random","toString","substring","fetch","result","localStorage","getItem","console","log","undefined","JSON","parse","save","todos","setItem","stringify","filter","visibility","arguments","length","it","completed"],"sources":["/Users/apple/Desktop/todo-mvc/src/utils/todoStorage.js"],"sourcesContent":["const LOCAL_KEY = \"todomvc\";\n\n/**\n * 生成一个任务的唯一编号，时间戳+4位随机数\n */\nexport function generateId() {\n  return Date.now() + Math.random().toString(16).substring(2, 4);\n}\n\n/**\n * 获取当前所有任务\n */\nexport function fetch() {\n  const result = localStorage.getItem(LOCAL_KEY);\n  console.log(result);\n  if (result && result === undefined) {\n    return JSON.parse(result);\n  }\n  return [];\n}\n/**\n * 保存所有任务\n * @param {*} todos 任务列表\n */\nexport function save(todos) {\n  localStorage.setItem(LOCAL_KEY, JSON.stringify(todos));\n}\n\nexport function filter(todos, visibility = \"all\") {\n  if (visibility === \"all\") {\n    return todos;\n  } else if (visibility === \"active\") {\n    return todos.filter((it) => !it.completed);\n  } else if (visibility === \"completed\") {\n    return todos.filter((it) => it.completed);\n  }\n}\n"],"mappings":";;;;;;;;;AAAA,IAAMA,SAAS,GAAG,SAAS;;AAE3B;AACA;AACA;AACA,OAAO,SAASC,UAAUA,CAAA,EAAG;EAC3B,OAAOC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;AAChE;;AAEA;AACA;AACA;AACA,OAAO,SAASC,KAAKA,CAAA,EAAG;EACtB,IAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAACX,SAAS,CAAC;EAC9CY,OAAO,CAACC,GAAG,CAACJ,MAAM,CAAC;EACnB,IAAIA,MAAM,IAAIA,MAAM,KAAKK,SAAS,EAAE;IAClC,OAAOC,IAAI,CAACC,KAAK,CAACP,MAAM,CAAC;EAC3B;EACA,OAAO,EAAE;AACX;AACA;AACA;AACA;AACA;AACA,OAAO,SAASQ,IAAIA,CAACC,KAAK,EAAE;EAC1BR,YAAY,CAACS,OAAO,CAACnB,SAAS,EAAEe,IAAI,CAACK,SAAS,CAACF,KAAK,CAAC,CAAC;AACxD;AAEA,OAAO,SAASG,MAAMA,CAACH,KAAK,EAAsB;EAAA,IAApBI,UAAU,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAT,SAAA,GAAAS,SAAA,MAAG,KAAK;EAC9C,IAAID,UAAU,KAAK,KAAK,EAAE;IACxB,OAAOJ,KAAK;EACd,CAAC,MAAM,IAAII,UAAU,KAAK,QAAQ,EAAE;IAClC,OAAOJ,KAAK,CAACG,MAAM,CAAC,UAACI,EAAE;MAAA,OAAK,CAACA,EAAE,CAACC,SAAS;IAAA,EAAC;EAC5C,CAAC,MAAM,IAAIJ,UAAU,KAAK,WAAW,EAAE;IACrC,OAAOJ,KAAK,CAACG,MAAM,CAAC,UAACI,EAAE;MAAA,OAAKA,EAAE,CAACC,SAAS;IAAA,EAAC;EAC3C;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}