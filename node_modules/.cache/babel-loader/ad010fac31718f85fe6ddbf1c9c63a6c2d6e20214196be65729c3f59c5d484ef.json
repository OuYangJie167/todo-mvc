{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { ref, computed } from \"vue\";\nexport default function useEditTodo(todosRef) {\n  var editingTodoRef = ref(null); // 当前正在修改的是哪一个todo\n  var originTitle = null; // 缓存之前的title值\n  var editTodo = function editTodo(todo) {\n    originTitle = todo.title;\n    editingTodoRef.value = todo;\n  };\n  var doneEdit = function doneEdit() {\n    editingTodoRef.value = null;\n  };\n  var cancelEdit = function cancelEdit() {\n    editingTodoRef.value = null;\n    todo.title = originTitle;\n  };\n  var allDoneRef = computed(function () {\n    var val = editingTodoRef.value.filter(function (it) {\n      return !it.completed;\n    }).length === 0;\n    return val;\n  });\n  function setAllChecked(checked) {\n    todosRef.value.forEach(function (todo) {\n      todo.completed = checked;\n    });\n  }\n  return {\n    editingTodoRef: editingTodoRef,\n    editTodo: editTodo,\n    doneEdit: doneEdit,\n    cancelEdit: cancelEdit,\n    allDoneRef: allDoneRef,\n    setAllChecked: setAllChecked\n  };\n}","map":{"version":3,"names":["ref","computed","useEditTodo","todosRef","editingTodoRef","originTitle","editTodo","todo","title","value","doneEdit","cancelEdit","allDoneRef","val","filter","it","completed","length","setAllChecked","checked","forEach"],"sources":["/Users/apple/Desktop/todo-mvc/src/composition/useEditTodo.js"],"sourcesContent":["import { ref, computed } from \"vue\";\n\nexport default function useEditTodo(todosRef) {\n  const editingTodoRef = ref(null); // 当前正在修改的是哪一个todo\n  let originTitle = null; // 缓存之前的title值\n  const editTodo = (todo) => {\n    originTitle = todo.title;\n    editingTodoRef.value = todo;\n  };\n\n  const doneEdit = () => {\n    editingTodoRef.value = null;\n  };\n\n  const cancelEdit = () => {\n    editingTodoRef.value = null;\n    todo.title = originTitle;\n  };\n\n  const allDoneRef = computed(() => {\n    let val = editingTodoRef.value.filter((it) => !it.completed).length === 0;\n    return val;\n  });\n\n  function setAllChecked(checked) {\n    todosRef.value.forEach((todo) => {\n      todo.completed = checked;\n    });\n  }\n\n  return {\n    editingTodoRef,\n    editTodo,\n    doneEdit,\n    cancelEdit,\n    allDoneRef,\n    setAllChecked,\n  };\n}\n"],"mappings":";;;;AAAA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAK;AAEnC,eAAe,SAASC,WAAWA,CAACC,QAAQ,EAAE;EAC5C,IAAMC,cAAc,GAAGJ,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;EAClC,IAAIK,WAAW,GAAG,IAAI,CAAC,CAAC;EACxB,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,IAAI,EAAK;IACzBF,WAAW,GAAGE,IAAI,CAACC,KAAK;IACxBJ,cAAc,CAACK,KAAK,GAAGF,IAAI;EAC7B,CAAC;EAED,IAAMG,QAAQ,GAAG,SAAXA,QAAQA,CAAA,EAAS;IACrBN,cAAc,CAACK,KAAK,GAAG,IAAI;EAC7B,CAAC;EAED,IAAME,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;IACvBP,cAAc,CAACK,KAAK,GAAG,IAAI;IAC3BF,IAAI,CAACC,KAAK,GAAGH,WAAW;EAC1B,CAAC;EAED,IAAMO,UAAU,GAAGX,QAAQ,CAAC,YAAM;IAChC,IAAIY,GAAG,GAAGT,cAAc,CAACK,KAAK,CAACK,MAAM,CAAC,UAACC,EAAE;MAAA,OAAK,CAACA,EAAE,CAACC,SAAS;IAAA,EAAC,CAACC,MAAM,KAAK,CAAC;IACzE,OAAOJ,GAAG;EACZ,CAAC,CAAC;EAEF,SAASK,aAAaA,CAACC,OAAO,EAAE;IAC9BhB,QAAQ,CAACM,KAAK,CAACW,OAAO,CAAC,UAACb,IAAI,EAAK;MAC/BA,IAAI,CAACS,SAAS,GAAGG,OAAO;IAC1B,CAAC,CAAC;EACJ;EAEA,OAAO;IACLf,cAAc,EAAdA,cAAc;IACdE,QAAQ,EAARA,QAAQ;IACRI,QAAQ,EAARA,QAAQ;IACRC,UAAU,EAAVA,UAAU;IACVC,UAAU,EAAVA,UAAU;IACVM,aAAa,EAAbA;EACF,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}